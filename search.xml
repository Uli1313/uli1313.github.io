<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Bootstrap5 Popovers 基本使用及客製</title>
    <url>/2024/240319/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>先前在實作 Bootstrap5 中 Popovers 的時候，在內容處除了文字之外，還需要加入輸入框、按鈕等 (如下圖)，以下來分享 Popovers 基本使用以及如何客製化內容結構。</p>
<p><img src="/2024/240319/popoverDesign.jpg" alt="設計稿"></p>
<h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><p>這邊需要注意兩件事情：</p>
<ul>
<li>記得要載入 Bootstrap JS</li>
<li>必須手動初始化</li>
</ul>
<p>首先我們先複製<a href="https://getbootstrap.com/docs/5.3/components/popovers/#examples">官方文件提供的範例</a>，確保可以正常使用。</p>
<iframe src="https://codepen.io/uli1313/embed/OJGWxmv?height=265&theme-id=default&default-tab=html,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe>

<p>這邊來說明一下範例中的屬性 :</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;btn btn-lg btn-danger&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-bs-toggle</span>=<span class="string">&quot;popover&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-bs-title</span>=<span class="string">&quot;Popover title&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-bs-content</span>=<span class="string">&quot;And here&#x27;s some amazing content. It&#x27;s very engaging. Right?&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  Click to toggle popover</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<br />

<ul>
<li><code>data-bs-toggle</code> : 使 popover 開啟或關閉</li>
<li><code>data-bs-title</code> : 以官方範例來說就是灰底區塊的文字</li>
<li><code>data-bs-content</code> : 白底區塊的內容文字</li>
</ul>
<br />

<p>既然要更動 content 的內容，那就直接在 <code>data-bs-content</code> 修改成 HTML 結構就好了吧？<br /><br>但是實際改成 <code>data-bs-content=&quot;&lt;p&gt;我是文字&lt;/p&gt;&quot;</code> 後會發現，點開 popover 顯示的會是包含 HTML 標籤的 <code>&lt;p&gt;我是文字&lt;/p&gt;</code> XD</p>
<h2 id="如何客製化內容結構"><a href="#如何客製化內容結構" class="headerlink" title="如何客製化內容結構"></a>如何客製化內容結構</h2><p>那要如何解決上述的問題呢？請先看以下範例</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cus-container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 按鈕 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;##&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cus-popover pt-3&quot;</span> <span class="attr">data-bs-toggle</span>=<span class="string">&quot;popover&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;material-icons text-warning&quot;</span>&gt;</span></span><br><span class="line">      radio_button_checked</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 內容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-none&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;cus-content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;mb-1&quot;</span>&gt;</span>雷射雕刻<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;border d-flex align-items-center px-2 py-1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;border-0&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;hello world !&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;##&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;material-icons align-bottom&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: #ff985e&quot;</span>&gt;</span></span><br><span class="line">            send</span><br><span class="line">          <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">const</span> cusPopover = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.cus-popover&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> cusPopoverItem = <span class="keyword">new</span> bootstrap.<span class="title class_">Popover</span>(cusPopover, &#123;</span><br><span class="line">  <span class="attr">container</span>: <span class="string">&quot;.cus-container&quot;</span>, <span class="comment">// 指定要在哪個位置渲染</span></span><br><span class="line">  <span class="attr">html</span>: <span class="literal">true</span>, <span class="comment">// 是否為 HTML 格式</span></span><br><span class="line">  <span class="attr">content</span>: <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#cus-content&quot;</span>), <span class="comment">// 內容</span></span><br><span class="line">  <span class="attr">placement</span>: <span class="string">&quot;top&quot;</span>　<span class="comment">// 要顯示的位置</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>(原本官方範例是用 selectAll 來一次選取所有 popover，這邊因為內容都是獨立的，所以只選取單一元素)<br>(為了方便說明，這邊把 title 屬性拿掉，有需要再加上去即可)</p>
<p>在初始化的時候可以設定<a href="https://getbootstrap.com/docs/5.3/components/popovers/#options">許多選項</a>，這邊針對其中幾個作說明 :</p>
<ul>
<li><code>container</code> : 可以指定要在哪個位置渲染，當如果有需要吃到特定父層的樣式時，就可以在這邊設定使 popover 在該父層內部做渲染。</li>
<li><code>html</code> : 設定為 true (預設是 false) 的話即可接受 HTML 格式，HTML 標籤就不會外露在畫面上。</li>
<li><code>content</code> : 當 html 設定為 true ，可以直接在這邊輸入 HTML 結構，比如 <code>content: &#39;&lt;p&gt;123&lt;/p&gt;&#39;</code></li>
</ul>
<p>這邊把 HTML 結構放在 HTML 檔案中並用 <code>.d-none</code> 包住，避免直接顯示在畫面上。接著在 <code>.d-none</code> 以及 HTML 結構中插入一個 <code>div</code> 並給予 id。最後在 <code>content</code> 我們就可以選取該 id 元素，當點開 popover 時，就可以看到整個結構都出現在畫面上了～</p>
<p>如此一來，就可以讓 HTML 結構的內容就歸在 HTML 檔案中，不會讓整陀複雜的結構出現在 js 檔案中了。</p>
<p><img src="/2024/240319/popoverDemo.jpg" alt="popoverDemo"></p>
<iframe src="https://codepen.io/uli1313/embed/PogWJxB?height=265&theme-id=default&default-tab=html,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe>
]]></content>
      <categories>
        <category>Bootstrap5</category>
      </categories>
      <tags>
        <tag>Bootstrap5</tag>
      </tags>
  </entry>
</search>
